<!DOCTYPE html>

<html>

  <head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=yes">

  <title>
    John Muir Trail: Part 1 - MOUNTAIN DU
    
  </title>

  <meta name="description" content="John Muir Trail is a 211 mile trail between Yosemite and Mt Whitney. It is wildly regarded as one of the best trails in the world. I hiked (most of) the trai...">

  <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="/assets/vendor/bootstrap/css/bootstrap.min.css">

  <link rel="stylesheet" href="/assets/vendor/fontawesome-free/css/all.min.css">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="http://localhost:4000/2015/07/jmt-part1.html">
  <link rel="alternate" type="application/rss+xml" title="MOUNTAIN DU" href="/feed.xml">

</head>


  <body>

    <!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href="/">MOUNTAIN DU</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      Menu
      <i class="fa fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/about">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/posts">Posts</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/contact">Contact</a>
        </li>
      </ul>
    </div>
  </div>
</nav>


    <!-- Page Header -->

<header class="masthead" style="background-image: url('/img/posts/jmt-part1/DSC05981.jpg')">
  
    <div class="overlay"></div>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <div class="post-heading">
            <h1>John Muir Trail: Part 1</h1>
            
            <h2 class="subheading">Whitney Portal to Road's End</h2>
            
             <span class="meta">
            <!--Posted by
              <a href="#">Longyuan Du</a> -->
              July 08, 2015</span>
          </div>
        </div>
      </div>
    </div>
  </header>

  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-auto mx-auto">

        <blockquote>John Muir Trail is a 211 mile trail between Yosemite and Mt Whitney. It is wildly regarded as one of the best trails in the world. I hiked (most of) the trail northbound from Jun. 6th to Jun. 19th, with some detour on Sierra High Route from Road's End to Mather Pass.</blockquote>

<p><strong>Logistics:</strong></p>

<p>I flew into Reno on Jun. 4th. The next day I took <a href="https://www.estransit.com/routes-schedule/395-routes/lone-pine-to-reno/" target="_blank">Route 395 bus</a> operated by Eastern Sierra Transit to Lone Pine. On Jun. 6th I went to the ranger station for a wilderness permit. At 8 am in the morning, there were about 10 groups waiting outside. The ranger held a quick lottery draw when he showed up. It was more like a formality, as all of us got our permits with no problem.</p>

<img class="mx-auto d-block" src="/img/posts/jmt-part1/WP_20150605_011.jpg" width =70%>

<p>So I went back to town, checked out from the hotel and walked to the intersection to Whitney Portal to hitch a ride. There are quite a few people heading to the portal every day. It took me only 5 minutes to get a ride, one of the smoothest hitchhiking experiences I ever had.</p>

<img class="mx-auto d-block" src="/img/posts/jmt-part1/DSC05746.jpg" width =70%>

<p><strong>Mt. Whitney:</strong></p>

<p>It all started at Whitney Portal, about 8000 feet above sea level. Early June would be considered too early to attempt the peak without mountaineering gears, but thanks to the record low snow year, the hike was totally doable with just trail runners.</p>

<p>Everything went very smoothly in the first few hours. Weather was good, even though I could see the clouds closing in. I was carrying a fairly heavy bag with 5 days of food, but it was first day, so with fresh legs and adrenaline, I was walking at a good pace. I arrived at Trail Camp around 1 pm, and decided to push it despite the clouds. I had some unfinished schoolwork and probably shouldn't do this trip to begin with, so I wanted to finish the hike sooner rather than later. </p>

<img class="mx-auto d-block" src="/img/posts/jmt-part1/DSC05823.jpg" width =70%>

<p>Immediately after Trail Camp was the infamous "99 switchbacks". There were still quite a few patches of snow at the cables, so I put on my microspikes. I didn't think it was really necessary. This was also the only time I used them during the trip. </p>


<img class="mx-auto d-block" src="/img/posts/jmt-part1/DSC05824.jpg" width =70%>

<p>Weather continued to deteriorate and it started hailing when I got closer to Trail Crest. I was wearing short sleeve T-shirt before Trail Camp and felt quite warm. By the time I got to Trail Crest, I was wearing a long-sleeve base layer and a wind shirt, and was still freezing and worried about hypothermia. I probably should just descent to Guitar Lake, but my ego got the better of me. I put my backpack down and marched towards the summit. Half way up, it started snowing. Soon it turned to a blizzard. By the time I arrived at the top, I couldn't see a thing. I snatched a few pictures and rushed down. I almost lost the trail because of the poor visibility. </p>

<img class="mx-auto d-block" src="/img/posts/jmt-part1/DSC05851.jpg" width =70%>

<p>It took me 2 hours to get down to Guitar Lake. I was really exhausted after the long day, and passed out in my tent after a quick dinner.</p>

<img class="mx-auto d-block" src="/img/posts/jmt-part1/DSC05875.jpg" width =70%>

<p><strong>Forester Pass:</strong></p>

<p>Second day was a low mileage day. I had a headache the previous night, and thought it was a symptom of altitude sickness. Turned out it was just dehydration. I drank some water, had a good sleep and woke up at 8.</p>

<p>The trail was fairly easy for this section, mostly flat. I arrived at camp around 3 in the afternoon. Having just experienced a full-scale whiteout at Whitney, I decided to call it a day and leave the pass for the next day.</p>


<img class="mx-auto d-block" src="/img/posts/jmt-part1/DSC05913.jpg" width =70%>

<p>On Jun. 8th, I got up slightly earlier at 7 am, but still one of the last. The PCT hikers were long gone by the time I stepped out of the tent. At over 13,000 feet above sea level, Forester Pass is the highest point on JMT. It was relatively easy from south, but still it involved a long and steep 2 hour climb. The view at the top was magnificent. It was one of the highlights of this trip.</p>


<img class="mx-auto d-block" src="/img/posts/jmt-part1/DSC05970.jpg" width =70%>

<p>North face of the pass still had quite a bit of snow. But there were already a few paths left by earlier JMT and PCT hikers, so crossing those snow fields wasn't a big issue.</p>


<img class="mx-auto d-block" src="/img/posts/jmt-part1/DSC05977.jpg" width =70%>

<p><strong>Road's End/ Cedar Grove:</strong></p>

<p>It was all downhill from Forester pass. Last campsite is about 4 miles before Road's End. As it was getting late, I settled down at the site, and met a few hikers doing the Rae Lakes Loop. Really friendly folks. They gave me some of their food. The next day I hiked a couple miles of switchbacks and reached Road's End at 9 am. Nearest resupply point Cedar Grove is another 5 miles away on paved road. Hitchhiking shouldn't be difficult. Unfortunately I was out in the morning, and there was little traffic going out. So I ended up walking more than half the distance.</p>

<p>There's a lodge at Cedar Grove, as well as a small restaurant and general store. It would be a nice place for a rest day but I was in a hurry. So I bought some trail mix and snicker bars, and hitched a ride back to Road's End.</p>


<img class="mx-auto d-block" src="/img/posts/jmt-part1/DSC06025.jpg" width =70%>


<style>
    .image-gallery {overflow: auto; margin-left: -1%!important;}
    .image-gallery a {float: left; display: block; margin: 0 0 1% 1%; width: 19%; text-align: center; text-decoration: none!important;}
    .image-gallery a span {display: block; text-overflow: ellipsis; overflow: hidden; white-space: nowrap; padding: 3px 0;}
    .image-gallery a img {width: 100%; display: block;}
</style>

<p class="image-gallery"><a href="/img/posts/jmt-part1/DSC05746.jpg" title="DSC05746"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC05746.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC05746" title="DSC05746" /></a><a href="/img/posts/jmt-part1/DSC05763.jpg" title="DSC05763"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC05763.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC05763" title="DSC05763" /></a><a href="/img/posts/jmt-part1/DSC05817.jpg" title="DSC05817"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC05817.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC05817" title="DSC05817" /></a><a href="/img/posts/jmt-part1/DSC05823.jpg" title="DSC05823"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC05823.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC05823" title="DSC05823" /></a><a href="/img/posts/jmt-part1/DSC05824.jpg" title="DSC05824"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC05824.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC05824" title="DSC05824" /></a><a href="/img/posts/jmt-part1/DSC05829.jpg" title="DSC05829"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC05829.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC05829" title="DSC05829" /></a><a href="/img/posts/jmt-part1/DSC05838.jpg" title="DSC05838"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC05838.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC05838" title="DSC05838" /></a><a href="/img/posts/jmt-part1/DSC05839.jpg" title="DSC05839"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC05839.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC05839" title="DSC05839" /></a><a href="/img/posts/jmt-part1/DSC05851.jpg" title="DSC05851"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC05851.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC05851" title="DSC05851" /></a><a href="/img/posts/jmt-part1/DSC05855.jpg" title="DSC05855"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC05855.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC05855" title="DSC05855" /></a><a href="/img/posts/jmt-part1/DSC05857.jpg" title="DSC05857"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC05857.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC05857" title="DSC05857" /></a><a href="/img/posts/jmt-part1/DSC05875.jpg" title="DSC05875"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC05875.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC05875" title="DSC05875" /></a><a href="/img/posts/jmt-part1/DSC05900.jpg" title="DSC05900"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC05900.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC05900" title="DSC05900" /></a><a href="/img/posts/jmt-part1/DSC05913.jpg" title="DSC05913"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC05913.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC05913" title="DSC05913" /></a><a href="/img/posts/jmt-part1/DSC05945.jpg" title="DSC05945"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC05945.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC05945" title="DSC05945" /></a><a href="/img/posts/jmt-part1/DSC05952.jpg" title="DSC05952"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC05952.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC05952" title="DSC05952" /></a><a href="/img/posts/jmt-part1/DSC05954.jpg" title="DSC05954"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC05954.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC05954" title="DSC05954" /></a><a href="/img/posts/jmt-part1/DSC05960.jpg" title="DSC05960"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC05960.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC05960" title="DSC05960" /></a><a href="/img/posts/jmt-part1/DSC05970.jpg" title="DSC05970"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC05970.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC05970" title="DSC05970" /></a><a href="/img/posts/jmt-part1/DSC05977.jpg" title="DSC05977"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC05977.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC05977" title="DSC05977" /></a><a href="/img/posts/jmt-part1/DSC05978.jpg" title="DSC05978"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC05978.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC05978" title="DSC05978" /></a><a href="/img/posts/jmt-part1/DSC05981.jpg" title="DSC05981"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC05981.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC05981" title="DSC05981" /></a><a href="/img/posts/jmt-part1/DSC06005.jpg" title="DSC06005"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC06005.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC06005" title="DSC06005" /></a><a href="/img/posts/jmt-part1/DSC06015.jpg" title="DSC06015"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC06015.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC06015" title="DSC06015" /></a><a href="/img/posts/jmt-part1/DSC06021.jpg" title="DSC06021"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC06021.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC06021" title="DSC06021" /></a><a href="/img/posts/jmt-part1/DSC06022.jpg" title="DSC06022"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC06022.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC06022" title="DSC06022" /></a><a href="/img/posts/jmt-part1/DSC06025.jpg" title="DSC06025"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/DSC06025.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="DSC06025" title="DSC06025" /></a><a href="/img/posts/jmt-part1/WP_20150605_011.jpg" title="WP_20150605_011"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/jmt-part1/WP_20150605_011.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="WP_20150605_011" title="WP_20150605_011" /></a></p>



        <hr>

        <div class="clearfix">

          
          <a class="btn btn-primary float-left" href="/2015/01/machu-picchu.html"
            data-toggle="tooltip" data-placement="top" title="Poor Man's Machu Picchu">&larr; Previous<span class="d-none d-md-inline">
              Post</span></a>
          
          
          <a class="btn btn-primary float-right" href="/2015/07/jmt-part2.html"
            data-toggle="tooltip" data-placement="top" title="John Muir Trail: Part 2">Next<span class="d-none d-md-inline">
              Post</span> &rarr;</a>
          

        </div>

      </div>
    </div>
  </div>


    <!-- Footer -->

<hr>

<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <ul class="list-inline text-center">
          
          <li class="list-inline-item">
            <a href="https://www.twitter.com/SBootstrap">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          <li class="list-inline-item">
            <a href="https://www.facebook.com/StartBootstrap">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-facebook-f fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          
        </ul>
        <p class="copyright text-muted">Copyright &copy; Longyuan Du 2020</p>
      </div>
    </div>
  </div>
</footer>


    <script src="/assets/vendor/jquery/jquery.min.js"></script>
<script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/assets/vendor/startbootstrap-clean-blog/js/clean-blog.min.js"></script>

<script src="/assets/scripts.js"></script>



    <!-- lightbox -->
    <!-- <script src="/js/jquery.min.js"></script> -->
    <style>
.lightbox {width: 100%; height: 100%; position: fixed; top: 0; left: 0; background: rgba(0,0,0,0.85); z-index: 9999999; line-height: 0; cursor: pointer;}
.lightbox .img {
	position: relative;
	top: 50%;
	left: 50%;
	-ms-transform: translateX(-50%) translateY(-50%);
	-webkit-transform: translate(-50%,-50%);
	transform: translate(-50%,-50%);
	max-width: 100%;
	max-height: 90%;
}
.lightbox .img img {opacity: 0; pointer-events: none; width: auto;}
@media screen and (min-width: 1200px) {
    .lightbox .img {
		max-width: 1200px;
    }
}
@media screen and (min-height: 1200px) {
    .lightbox img {
		max-height: 1200px;
	}
}
.lightbox span {display: block; position: fixed; bottom: 13px; height: 1.5em; line-height: 1.4em; width: 100%; text-align: center; color: white; text-shadow:
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000;
}






.lightbox .videoWrapperContainer {
	position: relative;
	top: 50%;
	left: 50%;
	-ms-transform: translateX(-50%) translateY(-50%);
	-webkit-transform: translate(-50%,-50%);
	transform: translate(-50%,-50%);
	max-width: 900px;
	max-height: 100%;
}
.lightbox .videoWrapperContainer .videoWrapper {
	height: 0;
	line-height: 0;
	margin: 0;
	padding: 0;
	position: relative;
	padding-bottom: 56.333%; /* custom */
	background: black;
}
.lightbox .videoWrapper iframe {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	border: 0;
	display: block;
}
.lightbox #prev, .lightbox #next {height: 50px; line-height: 36px; display: none; margin-top: -25px; position: fixed; top: 50%; padding: 0 15px; cursor: pointer; text-decoration: none; z-index: 99; color: white; font-size: 60px;}
.lightbox.gallery #prev, .lightbox.gallery #next {display: block;}
.lightbox #prev {left: 0;}
.lightbox #next {right: 0;}
.lightbox #close {height: 50px; width: 50px; position: fixed; cursor: pointer; text-decoration: none; z-index: 99; right: 0; top: 0;}
.lightbox #close:after, .lightbox #close:before {position: absolute; margin-top: 22px; margin-left: 14px; content: ""; height: 3px; background: white; width: 23px;
-webkit-transform-origin: 50% 50%;
-moz-transform-origin: 50% 50%;
-o-transform-origin: 50% 50%;
transform-origin: 50% 50%;
/* Safari */
-webkit-transform: rotate(-45deg);
/* Firefox */
-moz-transform: rotate(-45deg);
/* IE */
-ms-transform: rotate(-45deg);
/* Opera */
-o-transform: rotate(-45deg);
}
.lightbox #close:after {
/* Safari */
-webkit-transform: rotate(45deg);
/* Firefox */
-moz-transform: rotate(45deg);
/* IE */
-ms-transform: rotate(45deg);
/* Opera */
-o-transform: rotate(45deg);
}
.lightbox, .lightbox * {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}
</style>

<script>
function is_youtubelink(url) {
  var p = /^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;
  return (url.match(p)) ? RegExp.$1 : false;
}
function is_imagelink(url) {
	var p = /([a-z\-_0-9\/\:\.]*\.(jpg|jpeg|png|gif))/i;
	return (url.match(p)) ? true : false;
}
function is_vimeolink(url,el) {
	var id = false;
	$.ajax({
	  url: 'https://vimeo.com/api/oembed.json?url='+url,
	  async: true,
	  success: function(response) {
		if(response.video_id) {
		  id = response.video_id;
		  $(el).addClass('lightbox-vimeo').attr('data-id',id);
		}
	  }
	});
}

$(document).ready(function() {
	//add classes to links to be able to initiate lightboxes
	$("a").each(function(){
		var url = $(this).attr('href');
		if(url) {
			if(url.indexOf('vimeo') !== -1 && !$(this).hasClass('no-lightbox')) is_vimeolink(url,$(this));
			if(is_youtubelink(url) && !$(this).hasClass('no-lightbox')) $(this).addClass('lightbox-youtube').attr('data-id',is_youtubelink(url));
			if(is_imagelink(url) && !$(this).hasClass('no-lightbox')) {
				$(this).addClass('lightbox-image');
				var href = $(this).attr('href');
				var filename = href.split('/').pop();
				var split = filename.split(".");
				var name = split[0];
				$(this).attr('title',name);
			}
		}
	});
	//remove the clicked lightbox
	$("body").on("click", ".lightbox", function(event){
		if($(this).hasClass('gallery')) {
			$(this).remove();
			if($(event.target).attr('id')=='next') {
				//next item
				if($("a.gallery.current").nextAll("a.gallery:first").length) $("a.gallery.current").nextAll("a.gallery:first").click();
				else $("a.gallery.current").parent().find("a.gallery").first().click();
			}
			else if ($(event.target).attr('id')=='prev') {
				//prev item
				if($("a.gallery.current").prevAll("a.gallery:first").length) $("a.gallery.current").prevAll("a.gallery:first").click();
				else $("a.gallery.current").parent().find("a.gallery").last().click();
			}
			else {
				$("a.gallery").removeClass('gallery');
			}
		}
		else $(this).remove();
	});
	//prevent image from being draggable (for swipe)
	$("body").on('dragstart', ".lightbox img", function(event) { event.preventDefault(); });
	//add the youtube lightbox on click
	$("a.lightbox-youtube").click(function(event){
		event.preventDefault();
		$('<div class="lightbox"><a id="close"></a><a id="next">&rsaquo;</a><a id="prev">&lsaquo;</a><div class="videoWrapperContainer"><div class="videoWrapper"><iframe src="https://www.youtube.com/embed/'+$(this).attr('data-id')+'?autoplay=1&showinfo=0&rel=0"></iframe></div></div></div>').appendTo('body');
	});
	//add the image lightbox on click
	$("a.lightbox-image").click(function(event){
		event.preventDefault();
		$('<div class="lightbox"><a id="close"></a><a id="next">&rsaquo;</a><a id="prev">&lsaquo;</a><div class="img" style="background: url('+$(this).attr('href')+') center center / contain no-repeat;" title="'+$(this).attr('title')+'" ><img src="'+$(this).attr('href')+'" alt="'+$(this).attr('title')+'" /></div><span>'+$(this).attr('title')+'</span></div>').appendTo('body');
	});
	//add the vimeo lightbox on click
	$("body").on("click", "a.lightbox-vimeo", function(event){
		event.preventDefault();
		$('<div class="lightbox"><a id="close"></a><a id="next">&rsaquo;</a><a id="prev">&lsaquo;</a><div class="videoWrapperContainer"><div class="videoWrapper"><iframe src="https://player.vimeo.com/video/'+$(this).attr('data-id')+'/?autoplay=1&byline=0&title=0&portrait=0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div></div></div>').appendTo('body');
	});

	$("body").on("click", "a[class*='lightbox-']", function(){
		var link_elements = $(this).parent().find("a[class*='lightbox-']");
		$(link_elements).removeClass('current');
		for (var i=0; i<link_elements.length; i++) {
			if($(this).attr('href') == $(link_elements[i]).attr('href')) {
				$(link_elements[i]).addClass('current');
			}
		}
		if(link_elements.length>1) {
			$('.lightbox').addClass('gallery');
			$(link_elements).addClass('gallery');
		}
	});


});

$(document).keydown(function(e) {
    switch(e.which) {
        case 37: // left
        $("#prev").click();
        break;
        case 39: // right
        $("#next").click();
        break;
	case 27: // esc
        $("#close").click();
        break;
        default: return; // exit this handler for other keys
    }
    e.preventDefault(); // prevent the default action (scroll / move caret)
});

  /*===========================
  Swipe-it v1.4.1
  An event listener for swiping gestures with vanilla js.
  https://github.com/tri613/swipe-it#readme

  @Create 2016/09/22
  @Update 2017/08/11
  @Author Trina Lu
  ===========================*/
  "use strict";var _slicedToArray=function(){function n(n,t){var e=[],i=!0,o=!1,r=void 0;try{for(var u,c=n[Symbol.iterator]();!(i=(u=c.next()).done)&&(e.push(u.value),!t||e.length!==t);i=!0);}catch(n){o=!0,r=n}finally{try{!i&&c.return&&c.return()}finally{if(o)throw r}}return e}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(n,t,e){function i(n){function e(){o("touchstart",m,w),o("touchmove",d,w),o("touchend",p,w),E.mouseEvent&&o("mousedown",s,w)}function i(){y=!1,D=!1,A=!1,b=!1,a=!1}function s(n){a=this,y=n.clientX,D=n.clientY,o("mousemove",l,v),o("mouseup",h,v)}function l(n){n.preventDefault(),y&&D&&(A=n.clientX,b=n.clientY)}function h(n){r("mousemove",l,v),r("mouseup",h,v),p(n)}function m(n){a=this,y=n.touches[0].clientX,D=n.touches[0].clientY}function d(n){A=n.touches[0].clientX,b=n.touches[0].clientY}function p(n){if(y&&D&&A&&b){var t=y-A,e=D-b,o=[t,e].map(Math.abs),r=_slicedToArray(o,2),c=r[0],s=r[1],v=E.minDistance;if(c>v){var f=y<A?"swipeRight":"swipeLeft";u(f,a,{distance:t,start:y,end:A})}if(s>v){var l=D>b?"swipeUp":"swipeDown";u(l,a,{distance:e,start:D,end:b})}(c>v||s>v)&&u("swipe",a)}i()}var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},w=c(t.querySelectorAll(n)),y=void 0,D=void 0,A=void 0,b=void 0;E.mouseEvent=void 0===E.mouseEvent?f.mouseEvent:E.mouseEvent,E.minDistance=void 0===E.minDistance?f.minDistance:E.minDistance,i(),e(),this.on=function(n,t){return o(n,t,w),this}}function o(n,t,e){s(e).forEach(function(e){return e.addEventListener(n,t)})}function r(n,t,e){s(e).forEach(function(e){return e.removeEventListener(n,t)})}function u(n,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.createEvent("Event");o.initEvent(n,!0,!0),o.swipe=i,s(e).forEach(function(n){return n.dispatchEvent(o)})}function c(n){for(var t=[],e=0;e<n.length;e++)t.push(n[e]);return t}function s(n){return Array.isArray(n)?n:[n]}var a=!1,v=[n],f={mouseEvent:!0,minDistance:30};n[e]=i}(window,document,"SwipeIt");

var mySwipeIt = new SwipeIt('body');
mySwipeIt.on('swipeLeft',function(e){
	//check if lightbox is present
	if($('.lightbox').length >  0 ) {
		$("#next").click();
	}
}).on('swipeRight',function(e){
	//check if lightbox is present
	if($('.lightbox').length >  0 ) {
		$("#prev").click();
	}
});
</script>

  </body>

</html>
