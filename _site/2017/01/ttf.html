<!DOCTYPE html>

<html>

  <head>

  <meta charset="utf-8">
  <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=320, height=device-height, target-densitydpi=medium-dpi">

  <title>
    Ultra Trail Tai Mo Shan TTF 荃打火 115k - MOUNTAIN DU
    
  </title>

  <meta name="description" content="Pre Race I arrived at Hong Kong in the afternoon of Dec. 30th. After I picked up the racer pack at Fo Tan (火炭), I walked around downtown and did some sightse...">

  <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="/assets/vendor/bootstrap/css/bootstrap.min.css">

  <link rel="stylesheet" href="/assets/vendor/fontawesome-free/css/all.min.css">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="http://localhost:4000/2017/01/ttf.html">
  <link rel="alternate" type="application/rss+xml" title="MOUNTAIN DU" href="/feed.xml">

</head>


  <body>

    <!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href="/">MOUNTAIN DU</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      Menu
      <i class="fa fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/about">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/posts">Posts</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/contact">Contact</a>
        </li>
      </ul>
    </div>
  </div>
</nav>


    <!-- Page Header -->

<header class="masthead" style="background-image: url('/img/posts/ttf/Tai_Mo_Shan.jpg')">
  
    <div class="overlay"></div>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <div class="post-heading">
            <h1>Ultra Trail Tai Mo Shan TTF 荃打火 115k</h1>
            
             <span class="meta">
            <!--Posted by
              <a href="#">Longyuan Du</a> -->
              January 22, 2017</span>
          </div>
        </div>
      </div>
    </div>
  </header>

  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">

        <p><strong>Pre Race</strong></p>
<p>I arrived at Hong Kong in the afternoon of Dec. 30th. After I picked up the racer pack at Fo Tan (火炭), I walked around downtown and did some sightseeing in the evening. I may have lingered on the street of the Pearl of the Orient too long that my hamstring felt a little tight. Fortunately after a good night's sleep the slight discomfort went away.</p>
<p>The race would start at 4pm, so I enjoyed a leisurely morning the next day. After a last-minute carb loading lunch at a brunch place, I headed to Tsuen King Circuit (荃灣荃景圍遊樂場) at 2:30pm. I got my mandatory gear checked by the volunteers, checked in my two drop bags for Tai Tong and the finish line, and I was ready to go.</p>
<img class="mx-auto d-block" src="/img/posts/ttf/20161231_154151.jpg" width=70%>
<p><strong>Tsuen Wan 荃灣 (0km) - Tai Tong 大棠 (65km)</strong></p>
<p>Right after the start, the course climbed some 350 meters to Lian Fa Shan (蓮花山) via Shek Lung Kung (石龍拱), before dropping to CP1 Farm Milk 農場鮮奶 (13km) at 5:35pm. The distance was a bit off for CP1. It was listed as 13km, but really just around 10k from start. I rested for 10 minutes at the check point, and headed back on the course. The next 5k was relatively flat on paved road and I was able to run most of them at a pace of around 10min/mile. Afterwards the elevation rose again to 390m at Tin Fu Tsai Shan (田夫仔山) and I went back to power hiking. From Tin Fu Tsai Shan the course descended all the way back to sea level at CP2 Sham Tseng 深井 (30km). I felt fairly good and passed quite a few runners along the way, arriving at the check point&nbsp;at 7:51pm. There's a big gathering at Sham Tseng, and the volunteers were serving fresh roast goose and noodles, along with the usual race food. I must have eaten at least 20 pieces of goose. If there has to be a criticism about the race, it is that the check points were too cozy, that it was hard for me to head back to running.</p>
<img class="mx-auto d-block" src="/img/posts/ttf/20161231_195900.jpg" width=70%>
<p>I spent 30 minutes at Sham Tseng and set out again at 8:20pm. The elevation change was mostly moderate and I made good progress, arriving at CP4 Tai Tong 大棠 (65km) at 1:51am. By then my quads were a bit sore from pounding the paved paths and hard-surface trails, but overall I felt good. While sitting there resting I did the math: I covered 65km in 10 hours, so I was pretty confident that I could finish in 20 hours, and maybe even 18 hours. Boy, I couldn't be more wrong.</p>
<p style="text-align: center;">[singlepic id = 786 width =500]</p>
<p><strong>Tai Tong 大棠 (65km) - Fo Tan 火炭 (115km)</strong></p>
<p>After leaving Tai Tong, the course followed the Tai Tong Shan Road briefly and then followed the trail to Sze Pai Shek Shan (四排石山). Sze Pai Shek Shan is really four hill and the trail was basically on the ridge. Although the highest hilltop is only 290m, the ups and downs were quite annoying. It took me around one and a half hours to reach SCP5 (Semi Check Point, where volunteers check you in with a mobile app). Afterwards the trail dropped sharply by 100m, ascended again to Cheung Ngau Shan (掌牛山) at 220m, and finally dropping back to sea level. It was at night and tall weeds grew right next to the trail, making it hard to see what I was stepping onto. I lost my footing a number of times, but fortunately only suffered some minor scratches. After I finally got out of the single tracks&nbsp;and rejoined the paved road, I missed a turn where the course followed a pedestrian subway. I had to backtrack and lost another 15 minutes because of that. I arrived at CP5 Fung Kat Heung 逢吉鄉 (78km) at 5:31am.</p>
<p>From Fung Kat Heung, the course followed the ridge all the way up to Kai Kung Leng 圭角山 at 585m, then dropped back to 50m above sea level at SCP6 Ta Shek Wu 打石湖 (85km). I handled the climb okay, but I started to struggle at the descent as my quads gave out. The steep slope on hard-surface trail certaintly didn't do me any favor and my pace at the descent was even slower than at the ascent. I pulled into Ta Shek Wu at 7:49am. After a brief rest I took off again, climbing 500m to Tai To Yan (大刀屻). I took a couple of gels and seemed to recover a little. Quad weren't hurting as bad so I managed to pick up the pace on the descent to CP6. I pulled into CP6 Kadoorie Farm and Botanic Garden 嘉道理農場 (93km) at 10:24am.</p>
<p style="text-align: center;">[singlepic id = 776 width =300]&nbsp;</p>
<p>Shortly after leaving the check point, the battery of my Fenix2 drained and I had to run by feels The climb to the highest point of the race, the 780m Sze Fong Shan (四方山), took me two hours. When I finally reached that point, the course took a steep dip down a side trail. I had struggled throughout the race with those descents on hard-surface trails, and at that point my quads were completed wrecked. While I was stumbling down the hill, racers were passing me left and right. I arrived at CP7 Wun Yiu 碗窰 (105km) exhausted at 1:40pm.</p>
<p style="text-align: center;">[singlepic id = 777 width =500 ]</p>
<p style="text-align: center;"><strong>Yours truly on Sze Fong Shan</strong></p>
<p>I was actually surprised that it was not even 2pm when I got to the check point. This got my hope up that I had a chance to finish the race in 24 hours. There was one more hill, the 640m Grassy Hill 草山, to climb in the last segment. It took another me 80 minutes and I was finally up on top at 3:13pm. The way down was mostly on paved road, and I got an adrenaline rush closer to the finish line, so despite my quads discomfort, I picked up the pace, shuffled down as fast as I could and crossed the line at 4:02pm, and the finish time is 24:02:57. I was a little bummed that I had missed 24 hours by less than 3 minutes, but ultimately I was more than happy to have finished this very tough race.</p>
<p style="text-align: center;">[singlepic id = 775 width = 500]</p>
<p><strong>Official Record:</strong>&<a href="http://livetrack.sportsystem.hk/utmt201617/livetrack_detail.html?bibno=0815&amp;lang=en">http://livetrack.sportsystem.hk/utmt201617/livetrack_detail.html?bibno=0815&amp;lang=en</a></p>

<style>
    .image-gallery {overflow: auto; margin-left: -1%!important;}
    .image-gallery a {float: left; display: block; margin: 0 0 1% 1%; width: 19%; text-align: center; text-decoration: none!important;}
    .image-gallery a span {display: block; text-overflow: ellipsis; overflow: hidden; white-space: nowrap; padding: 3px 0;}
    .image-gallery a img {width: 100%; display: block;}
</style>

<p class="image-gallery"><a href="/img/posts/ttf/15844472_1216100818465969_544982904154220324_o.jpg" title="15844472_1216100818465969_544982904154220324_o"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/ttf/15844472_1216100818465969_544982904154220324_o.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="15844472_1216100818465969_544982904154220324_o" title="15844472_1216100818465969_544982904154220324_o" /></a><a href="/img/posts/ttf/15875144_1864013387179562_9062079254700630009_o.jpg" title="15875144_1864013387179562_9062079254700630009_o"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/ttf/15875144_1864013387179562_9062079254700630009_o.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="15875144_1864013387179562_9062079254700630009_o" title="15875144_1864013387179562_9062079254700630009_o" /></a><a href="/img/posts/ttf/2016-12-31_UTMT TTF Start Point_(72).JPG" title="2016-12-31_UTMT TTF Start Point_(72)"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/ttf/2016-12-31_UTMT TTF Start Point_(72).JPG&w=250&h=250&output=jpg&q=50&t=square" alt="2016-12-31_UTMT TTF Start Point_(72)" title="2016-12-31_UTMT TTF Start Point_(72)" /></a><a href="/img/posts/ttf/20161230_161031.jpg" title="20161230_161031"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/ttf/20161230_161031.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="20161230_161031" title="20161230_161031" /></a><a href="/img/posts/ttf/20161231_154151.jpg" title="20161231_154151"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/ttf/20161231_154151.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="20161231_154151" title="20161231_154151" /></a><a href="/img/posts/ttf/20161231_195900.jpg" title="20161231_195900"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/ttf/20161231_195900.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="20161231_195900" title="20161231_195900" /></a><a href="/img/posts/ttf/20161231_195917.jpg" title="20161231_195917"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/ttf/20161231_195917.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="20161231_195917" title="20161231_195917" /></a><a href="/img/posts/ttf/2017-01-01 09-43-53 - 1746.JPG" title="2017-01-01 09-43-53 - 1746"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/ttf/2017-01-01 09-43-53 - 1746.JPG&w=250&h=250&output=jpg&q=50&t=square" alt="2017-01-01 09-43-53 - 1746" title="2017-01-01 09-43-53 - 1746" /></a><a href="/img/posts/ttf/20170101_000614.jpg" title="20170101_000614"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/ttf/20170101_000614.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="20170101_000614" title="20170101_000614" /></a><a href="/img/posts/ttf/20170101_021455.jpg" title="20170101_021455"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/ttf/20170101_021455.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="20170101_021455" title="20170101_021455" /></a><a href="/img/posts/ttf/2048_465ec175f011014216bd9fe8e78e2016.jpg" title="2048_465ec175f011014216bd9fe8e78e2016"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/ttf/2048_465ec175f011014216bd9fe8e78e2016.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="2048_465ec175f011014216bd9fe8e78e2016" title="2048_465ec175f011014216bd9fe8e78e2016" /></a><a href="/img/posts/ttf/2048_539d8726a38fae82ee8da0b9f1b7a3dc.JPG" title="2048_539d8726a38fae82ee8da0b9f1b7a3dc"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/ttf/2048_539d8726a38fae82ee8da0b9f1b7a3dc.JPG&w=250&h=250&output=jpg&q=50&t=square" alt="2048_539d8726a38fae82ee8da0b9f1b7a3dc" title="2048_539d8726a38fae82ee8da0b9f1b7a3dc" /></a><a href="/img/posts/ttf/DSC00143.JPG" title="DSC00143"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/ttf/DSC00143.JPG&w=250&h=250&output=jpg&q=50&t=square" alt="DSC00143" title="DSC00143" /></a><a href="/img/posts/ttf/DSC04076.JPG" title="DSC04076"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/ttf/DSC04076.JPG&w=250&h=250&output=jpg&q=50&t=square" alt="DSC04076" title="DSC04076" /></a><a href="/img/posts/ttf/DSC04088.JPG" title="DSC04088"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/ttf/DSC04088.JPG&w=250&h=250&output=jpg&q=50&t=square" alt="DSC04088" title="DSC04088" /></a><a href="/img/posts/ttf/DSC_4490.JPG" title="DSC_4490"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/ttf/DSC_4490.JPG&w=250&h=250&output=jpg&q=50&t=square" alt="DSC_4490" title="DSC_4490" /></a><a href="/img/posts/ttf/DSC_7722.JPG" title="DSC_7722"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/ttf/DSC_7722.JPG&w=250&h=250&output=jpg&q=50&t=square" alt="DSC_7722" title="DSC_7722" /></a><a href="/img/posts/ttf/GY6A4860.jpg" title="GY6A4860"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/ttf/GY6A4860.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="GY6A4860" title="GY6A4860" /></a><a href="/img/posts/ttf/TTF_ver3.03-01.jpg" title="TTF_ver3.03-01"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/ttf/TTF_ver3.03-01.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="TTF_ver3.03-01" title="TTF_ver3.03-01" /></a><a href="/img/posts/ttf/TTFver4.04-01.jpg" title="TTFver4.04-01"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/ttf/TTFver4.04-01.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="TTFver4.04-01" title="TTFver4.04-01" /></a><a href="/img/posts/ttf/Tai_Mo_Shan.jpg" title="Tai_Mo_Shan"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/ttf/Tai_Mo_Shan.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="Tai_Mo_Shan" title="Tai_Mo_Shan" /></a><a href="/img/posts/ttf/UTMT-328.jpg" title="UTMT-328"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/ttf/UTMT-328.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="UTMT-328" title="UTMT-328" /></a><a href="/img/posts/ttf/UTMT210617_Certificate_T0815_.jpg" title="UTMT210617_Certificate_T0815_"><img src="//images.weserv.nl/?url=localhost:4000/img/posts/ttf/UTMT210617_Certificate_T0815_.jpg&w=250&h=250&output=jpg&q=50&t=square" alt="UTMT210617_Certificate_T0815_" title="UTMT210617_Certificate_T0815_" /></a></p>



        <hr>

        <div class="clearfix">

          
          <a class="btn btn-primary float-left" href="/2016/11/philadelphia-marathon.html"
            data-toggle="tooltip" data-placement="top" title="2016 Philadelphia Marathon">&larr; Previous<span class="d-none d-md-inline">
              Post</span></a>
          
          
          <a class="btn btn-primary float-right" href="/2017/08/lavaredo.html"
            data-toggle="tooltip" data-placement="top" title="Lavaredo Ultra Trail 2017">Next<span class="d-none d-md-inline">
              Post</span> &rarr;</a>
          

        </div>

      </div>
    </div>
  </div>


    <!-- Footer -->

<hr>

<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <ul class="list-inline text-center">
          
          <li class="list-inline-item">
            <a href="https://www.twitter.com/SBootstrap">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          <li class="list-inline-item">
            <a href="https://www.facebook.com/StartBootstrap">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-facebook-f fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          
        </ul>
        <p class="copyright text-muted">Copyright &copy; Longyuan Du 2020</p>
      </div>
    </div>
  </div>
</footer>


    <script src="/assets/vendor/jquery/jquery.min.js"></script>
<script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/assets/vendor/startbootstrap-clean-blog/js/clean-blog.min.js"></script>

<script src="/assets/scripts.js"></script>



    <!-- lightbox -->
    <!-- <script src="/js/jquery.min.js"></script> -->
    <style>
.lightbox {width: 100%; height: 100%; position: fixed; top: 0; left: 0; background: rgba(0,0,0,0.85); z-index: 9999999; line-height: 0; cursor: pointer;}
.lightbox .img {
	position: relative;
	top: 50%;
	left: 50%;
	-ms-transform: translateX(-50%) translateY(-50%);
	-webkit-transform: translate(-50%,-50%);
	transform: translate(-50%,-50%);
	max-width: 100%;
	max-height: 90%;
}
.lightbox .img img {opacity: 0; pointer-events: none; width: auto;}
@media screen and (min-width: 1200px) {
    .lightbox .img {
		max-width: 1200px;
    }
}
@media screen and (min-height: 1200px) {
    .lightbox img {
		max-height: 1200px;
	}
}
.lightbox span {display: block; position: fixed; bottom: 13px; height: 1.5em; line-height: 1.4em; width: 100%; text-align: center; color: white; text-shadow:
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000;
}






.lightbox .videoWrapperContainer {
	position: relative;
	top: 50%;
	left: 50%;
	-ms-transform: translateX(-50%) translateY(-50%);
	-webkit-transform: translate(-50%,-50%);
	transform: translate(-50%,-50%);
	max-width: 900px;
	max-height: 100%;
}
.lightbox .videoWrapperContainer .videoWrapper {
	height: 0;
	line-height: 0;
	margin: 0;
	padding: 0;
	position: relative;
	padding-bottom: 56.333%; /* custom */
	background: black;
}
.lightbox .videoWrapper iframe {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	border: 0;
	display: block;
}
.lightbox #prev, .lightbox #next {height: 50px; line-height: 36px; display: none; margin-top: -25px; position: fixed; top: 50%; padding: 0 15px; cursor: pointer; text-decoration: none; z-index: 99; color: white; font-size: 60px;}
.lightbox.gallery #prev, .lightbox.gallery #next {display: block;}
.lightbox #prev {left: 0;}
.lightbox #next {right: 0;}
.lightbox #close {height: 50px; width: 50px; position: fixed; cursor: pointer; text-decoration: none; z-index: 99; right: 0; top: 0;}
.lightbox #close:after, .lightbox #close:before {position: absolute; margin-top: 22px; margin-left: 14px; content: ""; height: 3px; background: white; width: 23px;
-webkit-transform-origin: 50% 50%;
-moz-transform-origin: 50% 50%;
-o-transform-origin: 50% 50%;
transform-origin: 50% 50%;
/* Safari */
-webkit-transform: rotate(-45deg);
/* Firefox */
-moz-transform: rotate(-45deg);
/* IE */
-ms-transform: rotate(-45deg);
/* Opera */
-o-transform: rotate(-45deg);
}
.lightbox #close:after {
/* Safari */
-webkit-transform: rotate(45deg);
/* Firefox */
-moz-transform: rotate(45deg);
/* IE */
-ms-transform: rotate(45deg);
/* Opera */
-o-transform: rotate(45deg);
}
.lightbox, .lightbox * {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}
</style>

<script>
function is_youtubelink(url) {
  var p = /^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;
  return (url.match(p)) ? RegExp.$1 : false;
}
function is_imagelink(url) {
	var p = /([a-z\-_0-9\/\:\.]*\.(jpg|jpeg|png|gif))/i;
	return (url.match(p)) ? true : false;
}
function is_vimeolink(url,el) {
	var id = false;
	$.ajax({
	  url: 'https://vimeo.com/api/oembed.json?url='+url,
	  async: true,
	  success: function(response) {
		if(response.video_id) {
		  id = response.video_id;
		  $(el).addClass('lightbox-vimeo').attr('data-id',id);
		}
	  }
	});
}

$(document).ready(function() {
	//add classes to links to be able to initiate lightboxes
	$("a").each(function(){
		var url = $(this).attr('href');
		if(url) {
			if(url.indexOf('vimeo') !== -1 && !$(this).hasClass('no-lightbox')) is_vimeolink(url,$(this));
			if(is_youtubelink(url) && !$(this).hasClass('no-lightbox')) $(this).addClass('lightbox-youtube').attr('data-id',is_youtubelink(url));
			if(is_imagelink(url) && !$(this).hasClass('no-lightbox')) {
				$(this).addClass('lightbox-image');
				var href = $(this).attr('href');
				var filename = href.split('/').pop();
				var split = filename.split(".");
				var name = split[0];
				$(this).attr('title',name);
			}
		}
	});
	//remove the clicked lightbox
	$("body").on("click", ".lightbox", function(event){
		if($(this).hasClass('gallery')) {
			$(this).remove();
			if($(event.target).attr('id')=='next') {
				//next item
				if($("a.gallery.current").nextAll("a.gallery:first").length) $("a.gallery.current").nextAll("a.gallery:first").click();
				else $("a.gallery.current").parent().find("a.gallery").first().click();
			}
			else if ($(event.target).attr('id')=='prev') {
				//prev item
				if($("a.gallery.current").prevAll("a.gallery:first").length) $("a.gallery.current").prevAll("a.gallery:first").click();
				else $("a.gallery.current").parent().find("a.gallery").last().click();
			}
			else {
				$("a.gallery").removeClass('gallery');
			}
		}
		else $(this).remove();
	});
	//prevent image from being draggable (for swipe)
	$("body").on('dragstart', ".lightbox img", function(event) { event.preventDefault(); });
	//add the youtube lightbox on click
	$("a.lightbox-youtube").click(function(event){
		event.preventDefault();
		$('<div class="lightbox"><a id="close"></a><a id="next">&rsaquo;</a><a id="prev">&lsaquo;</a><div class="videoWrapperContainer"><div class="videoWrapper"><iframe src="https://www.youtube.com/embed/'+$(this).attr('data-id')+'?autoplay=1&showinfo=0&rel=0"></iframe></div></div></div>').appendTo('body');
	});
	//add the image lightbox on click
	$("a.lightbox-image").click(function(event){
		event.preventDefault();
		$('<div class="lightbox"><a id="close"></a><a id="next">&rsaquo;</a><a id="prev">&lsaquo;</a><div class="img" style="background: url('+$(this).attr('href')+') center center / contain no-repeat;" title="'+$(this).attr('title')+'" ><img src="'+$(this).attr('href')+'" alt="'+$(this).attr('title')+'" /></div><span>'+$(this).attr('title')+'</span></div>').appendTo('body');
	});
	//add the vimeo lightbox on click
	$("body").on("click", "a.lightbox-vimeo", function(event){
		event.preventDefault();
		$('<div class="lightbox"><a id="close"></a><a id="next">&rsaquo;</a><a id="prev">&lsaquo;</a><div class="videoWrapperContainer"><div class="videoWrapper"><iframe src="https://player.vimeo.com/video/'+$(this).attr('data-id')+'/?autoplay=1&byline=0&title=0&portrait=0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div></div></div>').appendTo('body');
	});

	$("body").on("click", "a[class*='lightbox-']", function(){
		var link_elements = $(this).parent().find("a[class*='lightbox-']");
		$(link_elements).removeClass('current');
		for (var i=0; i<link_elements.length; i++) {
			if($(this).attr('href') == $(link_elements[i]).attr('href')) {
				$(link_elements[i]).addClass('current');
			}
		}
		if(link_elements.length>1) {
			$('.lightbox').addClass('gallery');
			$(link_elements).addClass('gallery');
		}
	});


});

$(document).keydown(function(e) {
    switch(e.which) {
        case 37: // left
        $("#prev").click();
        break;
        case 39: // right
        $("#next").click();
        break;
	case 27: // esc
        $("#close").click();
        break;
        default: return; // exit this handler for other keys
    }
    e.preventDefault(); // prevent the default action (scroll / move caret)
});

  /*===========================
  Swipe-it v1.4.1
  An event listener for swiping gestures with vanilla js.
  https://github.com/tri613/swipe-it#readme

  @Create 2016/09/22
  @Update 2017/08/11
  @Author Trina Lu
  ===========================*/
  "use strict";var _slicedToArray=function(){function n(n,t){var e=[],i=!0,o=!1,r=void 0;try{for(var u,c=n[Symbol.iterator]();!(i=(u=c.next()).done)&&(e.push(u.value),!t||e.length!==t);i=!0);}catch(n){o=!0,r=n}finally{try{!i&&c.return&&c.return()}finally{if(o)throw r}}return e}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(n,t,e){function i(n){function e(){o("touchstart",m,w),o("touchmove",d,w),o("touchend",p,w),E.mouseEvent&&o("mousedown",s,w)}function i(){y=!1,D=!1,A=!1,b=!1,a=!1}function s(n){a=this,y=n.clientX,D=n.clientY,o("mousemove",l,v),o("mouseup",h,v)}function l(n){n.preventDefault(),y&&D&&(A=n.clientX,b=n.clientY)}function h(n){r("mousemove",l,v),r("mouseup",h,v),p(n)}function m(n){a=this,y=n.touches[0].clientX,D=n.touches[0].clientY}function d(n){A=n.touches[0].clientX,b=n.touches[0].clientY}function p(n){if(y&&D&&A&&b){var t=y-A,e=D-b,o=[t,e].map(Math.abs),r=_slicedToArray(o,2),c=r[0],s=r[1],v=E.minDistance;if(c>v){var f=y<A?"swipeRight":"swipeLeft";u(f,a,{distance:t,start:y,end:A})}if(s>v){var l=D>b?"swipeUp":"swipeDown";u(l,a,{distance:e,start:D,end:b})}(c>v||s>v)&&u("swipe",a)}i()}var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},w=c(t.querySelectorAll(n)),y=void 0,D=void 0,A=void 0,b=void 0;E.mouseEvent=void 0===E.mouseEvent?f.mouseEvent:E.mouseEvent,E.minDistance=void 0===E.minDistance?f.minDistance:E.minDistance,i(),e(),this.on=function(n,t){return o(n,t,w),this}}function o(n,t,e){s(e).forEach(function(e){return e.addEventListener(n,t)})}function r(n,t,e){s(e).forEach(function(e){return e.removeEventListener(n,t)})}function u(n,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.createEvent("Event");o.initEvent(n,!0,!0),o.swipe=i,s(e).forEach(function(n){return n.dispatchEvent(o)})}function c(n){for(var t=[],e=0;e<n.length;e++)t.push(n[e]);return t}function s(n){return Array.isArray(n)?n:[n]}var a=!1,v=[n],f={mouseEvent:!0,minDistance:30};n[e]=i}(window,document,"SwipeIt");

var mySwipeIt = new SwipeIt('body');
mySwipeIt.on('swipeLeft',function(e){
	//check if lightbox is present
	if($('.lightbox').length >  0 ) {
		$("#next").click();
	}
}).on('swipeRight',function(e){
	//check if lightbox is present
	if($('.lightbox').length >  0 ) {
		$("#prev").click();
	}
});
</script>

  </body>

</html>
